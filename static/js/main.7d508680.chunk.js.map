{"version":3,"sources":["components/MovieItem.jsx","components/movie-tabs.jsx","components/pagination.jsx","components/App.jsx","utils/api.js","index.js"],"names":["MovieItem","state","willWatch","this","props","data","deleteMovie","addMovieToWillWatch","deleteMovieFromWillWatch","className","src","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","React","Component","MovieTabs","nextProps","nextState","sort_by","updateSortBy","handleClick","value","getClassLink","Pagination","numberPage","nextPage","previousPage","App","getMovies","fetch","number_page","then","response","json","movies","results","movie","updateMovies","filter","item","id","updateMoviesWillWatch","moviesWillWatch","push","page","prevProps","prevState","map","key","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7d508680.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nclass MovieItem extends React.Component {\r\n  state = {\r\n    willWatch: false\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      data,\r\n      deleteMovie,\r\n      addMovieToWillWatch,\r\n      deleteMovieFromWillWatch\r\n    } = this.props;\r\n    // props.data = {};\r\n    return (\r\n      <div className=\"card\">\r\n        <img\r\n          className=\"card-img-top\"\r\n          src={`https://image.tmdb.org/t/p/w500${data.backdrop_path ||\r\n            data.poster_path}`}\r\n          alt=\"\"\r\n        />\r\n        <div className=\"card-body\">\r\n          <h6 className=\"card-title\">{data.title}</h6>\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            <p className=\"mb-0\">Rating: {data.vote_average}</p>\r\n            {this.state.willWatch ? (\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-success\"\r\n                onClick={() => {\r\n                  this.setState({\r\n                    willWatch: false\r\n                  });\r\n                  deleteMovieFromWillWatch(data);\r\n                }}\r\n              >\r\n               Remove Will Watch\r\n              </button>\r\n            ) : (\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-secondary\"\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      willWatch: true\r\n                    });\r\n                    addMovieToWillWatch(data);\r\n                  }}\r\n                >\r\n                Add Will Watch\r\n              </button>\r\n              )}\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            className = \"btn btn-danger\"\r\n            onClick={() => {\r\n              deleteMovie(data);\r\n              deleteMovieFromWillWatch(data)\r\n            }}\r\n          >\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieItem;\r\n","import React, {Component} from 'react';\r\n\r\nclass MovieTabs extends Component {\r\n\r\n   shouldComponentUpdate(nextProps, nextState){\r\n    if (nextProps.sort_by !==this.props.sort_by){\r\n        return true\r\n    } else {\r\n        return false\r\n    }\r\n   }\r\n    \r\n    render (){\r\n        const { sort_by, updateSortBy } = this.props\r\n        const handleClick = (value) => {\r\n            return () => updateSortBy(value)\r\n        }\r\n    \r\n        const getClassLink = (value) => {\r\n            return `nav-link ${sort_by === value ? 'active' : ''}`\r\n    \r\n        }\r\n    \r\n        return (\r\n            <ul className=\"tabs nav nav-pills\">\r\n                <li className=\"nav-item\">\r\n                    <div\r\n                        //className={`nav-link ${sort_by === 'popularity.desc' ? 'active' : ''}`}\r\n                        className={getClassLink('popularity.desc')}\r\n                        onClick={handleClick('popularity.desc')}\r\n                    >\r\n                        Popularity desc\r\n        </div>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <div\r\n                        className={getClassLink('revenue.desc')}\r\n                        onClick={handleClick('revenue.desc')}>\r\n                        Revenue desc\r\n        </div>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <div\r\n                        className={getClassLink('vote_average.desc')}\r\n                        onClick={handleClick('vote_average.desc')}>\r\n                        Vote everage desc\r\n        </div>\r\n                </li>\r\n            </ul>\r\n    \r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default MovieTabs;\r\n","import React from 'react';\r\n\r\nconst Pagination = ({numberPage, nextPage,previousPage}) => {\r\n    \r\n    return (\r\n        <div >\r\n            <button\r\n                type='button'\r\n                className=\"btn btn-dark mr-5 btn-lg\"\r\n                onClick = {()=>previousPage(numberPage)}\r\n            >\r\n              {'<'}  Previous page\r\n            </button>\r\n            <button\r\n                type='button'\r\n                className=\"btn btn-dark ml-5 btn-lg\"\r\n                onClick = {()=>nextPage(numberPage)}\r\n            >\r\n                Next page {'>'}\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\nexport default Pagination;","import React from \"react\";\r\n//import { moviesData } from \"../moviesData\";\r\nimport MovieItem from \"./MovieItem\";\r\nimport { API_URL, API_KEY_3 } from '../utils/api';\r\nimport MovieTabs from './movie-tabs';\r\nimport Pagination from './pagination';\r\n\r\n// UI = fn(state, props)\r\n\r\n// App = new React.Component()\r\n\r\nclass App extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      movies: [],\r\n      moviesWillWatch: [],\r\n      sort_by: 'popularity.desc',\r\n      number_page: 1\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.getMovies()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.sort_by !== this.state.sort_by) {\r\n      this.getMovies()\r\n    }\r\n    if (prevState.number_page !== this.state.number_page) {\r\n      this.getMovies()\r\n    }\r\n  }\r\n\r\n  getMovies = () => {\r\n    fetch(`${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}&page=${this.state.number_page}`)\r\n      .then((response) => {\r\n        return response.json()\r\n      })\r\n      .then((data) => {\r\n        this.setState({\r\n          movies: data.results\r\n        })\r\n      })\r\n  }\r\n\r\n  deleteMovie = movie => {\r\n    const updateMovies = this.state.movies.filter(item => item.id !== movie.id);\r\n\r\n    // this.state.movies = updateMovies;\r\n    this.setState({\r\n      movies: updateMovies\r\n    });\r\n  };\r\n\r\n  addMovieToWillWatch = movie => {\r\n    const updateMoviesWillWatch = [...this.state.moviesWillWatch];\r\n    updateMoviesWillWatch.push(movie);\r\n\r\n    this.setState({\r\n      moviesWillWatch: updateMoviesWillWatch\r\n    });\r\n  };\r\n\r\n  deleteMovieFromWillWatch = movie => {\r\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter(\r\n      item => item.id !== movie.id\r\n    );\r\n\r\n    this.setState({\r\n      moviesWillWatch: updateMoviesWillWatch\r\n    });\r\n  };\r\n\r\n  updateSortBy = (value) => {\r\n    this.setState({\r\n      sort_by: value\r\n    })\r\n  }\r\n\r\n  nextPage = (page) => {\r\n    const nextPage = page + 1;\r\n    \r\n    this.setState({\r\n      number_page: nextPage === 501 ? 500 : nextPage \r\n    })\r\n  };\r\n\r\n  previousPage = (page) => {\r\n    const previousPage = page - 1;\r\n    \r\n    this.setState({\r\n      number_page: previousPage === 0 ? 1 : previousPage\r\n    })\r\n  };\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row mt-4\">\r\n          <div className=\"col-9\">\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-12\">\r\n                <MovieTabs sort_by={this.state.sort_by}\r\n                  updateSortBy={this.updateSortBy} />\r\n              </div>\r\n            </div>\r\n            <div className=\"mb-4 d-flex justify-content-around\">\r\n              <div>\r\n                <Pagination\r\n                  numberPage={this.state.number_page}\r\n                  nextPage={this.nextPage} \r\n                  previousPage={this.previousPage}/>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              {this.state.movies.map(movie => {\r\n                return (\r\n                  <div className=\"col-6 mb-4\" key={movie.id}>\r\n                    <MovieItem\r\n                      data={movie}\r\n                      deleteMovie={this.deleteMovie}\r\n                      addMovieToWillWatch={this.addMovieToWillWatch}\r\n                      deleteMovieFromWillWatch={this.deleteMovieFromWillWatch}\r\n                    />\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n          <div className=\"col-3\">\r\n            <h4>Will Watch: {this.state.moviesWillWatch.length} movies</h4>\r\n            <ul className=\"list-group\">\r\n              {this.state.moviesWillWatch.map(movie => (\r\n                <li key={movie.id} className=\"list-group-item\">\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <p>{movie.title}</p>\r\n                    <p>{movie.vote_average}</p>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","export const API_URL = \"https://api.themoviedb.org/3\";\r\n\r\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\r\n\r\nexport const API_KEY_4 =\r\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./stylesheets/index.scss\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}